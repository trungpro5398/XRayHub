@model XRayHub.Models.Patient

<div class="container mt-5">

    <!-- Header Section -->
    <div class="d-flex justify-content-start align-items-center">
        <!-- Icon representing the patient -->
        <i class="fas fa-user-circle fa-5x text-primary"></i>
        <div class="ml-4">
            <h2>@Model.FirstName @Model.LastName's Profile</h2>
        </div>
    </div>

    <!-- Profile Details Section -->
    <div class="card mt-5">
        <div class="card-body">
            <h5 class="card-title">Profile Details</h5>
            <dl class="row">
                <dt class="col-sm-3">First Name:</dt>
                <dd class="col-sm-9">@Model.FirstName</dd>

                <dt class="col-sm-3">Last Name:</dt>
                <dd class="col-sm-9">@Model.LastName</dd>

                <dt class="col-sm-3">Birth Date:</dt>
                <dd class="col-sm-9">@Model.BirthDate?.ToString("MMMM dd, yyyy")</dd>

                <dt class="col-sm-3">Contact Number:</dt>
                <dd class="col-sm-9">@Model.ContactNumber</dd>

                <dt class="col-sm-3">Email:</dt>
                <dd class="col-sm-9">@Model.Email</dd>
            </dl>
        </div>
    </div>

    <!-- Edit Profile Button -->
    <div class="mt-3">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editProfileModal">
            Edit Profile
        </button>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1" role="dialog" aria-labelledby="editProfileModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @using (Html.BeginForm("UpdateProfile", "Patient", FormMethod.Post))
                    {
                        @Html.AntiForgeryToken()
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" class="form-control" name="FirstName" value="@Model.FirstName">
                        </div>

                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" class="form-control" name="LastName" value="@Model.LastName">
                        </div>

                        <div class="form-group">
                            <label>Birth Date</label>
                            <input type="date" class="form-control" name="BirthDate" value="@Model.BirthDate>
                        </div>

                        <div class="form-group">
                            <label>Contact Number</label>
                            <input type="text" class="form-control" name="ContactNumber" value="@Model.ContactNumber">
                        </div>

                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" name="Email" value="@Model.Email">
                        </div>
                        @Html.HiddenFor(model => model.PatientID)

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <input type="submit" class="btn btn-primary" value="Save Changes">
                        </div>

                    }
                </div>
            </div>
        </div>
    </div>

</div>
@Html.Partial("~/Views/Chat/_ChatbotPartial.cshtml")

<!-- Scripts -->
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")